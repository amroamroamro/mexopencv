<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mexopencv: mexopencv</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mexopencv
   &#160;<span id="projectnumber">3.4.1</span>
   </div>
   <div id="projectbrief">MEX interface for OpenCV library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mexopencv </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/kyamagu/mexopencv"></a> <a href="https://ci.appveyor.com/project/kyamagu/mexopencv"></a> [</p><div class="image">
<object type="image/svg+xml" data="https://img.shields.io/badge/license-BSD%203--Clause-blue.svg" alt="License"></object>
</div>
<p>](LICENSE)</p>
<p>Collection and development kit of MATLAB MEX functions for OpenCV library.</p>
<p>The package provides MATLAB MEX functions that interface with hundreds of OpenCV APIs. Also the package contains a C++ class that converts between MATLAB's native data type and OpenCV data types. The package is suitable for fast prototyping of OpenCV application in MATLAB, use of OpenCV as an external toolbox in MATLAB, and development of custom MEX functions.</p>
<p>The current version of mexopencv is compatible with OpenCV 3.4.1.</p>
<p>For previous OpenCV 3.x versions, checkout the corresponding tags:</p>
<ul>
<li>[v3.4.0][24]</li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v3.4.0">v3.3.1</a></li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v3.3.0">v3.3.0</a></li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v3.2.0">v3.2.0</a></li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v3.1.0.1">v3.1.0</a></li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v3.0.0">v3.0.0</a></li>
</ul>
<p>For OpenCV 2.x, checkout these older branches:</p>
<ul>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v2.4">v2.4</a> (last tested with OpenCV v2.4.11)</li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v2.3">v2.3</a></li>
<li><a href="https://github.com/kyamagu/mexopencv/tree/v2.1">v2.1</a></li>
</ul>
<p>Consult the <a href="https://github.com/kyamagu/mexopencv/wiki">wiki</a> for help.</p>
<h1>Table of Contents </h1>
<ul>
<li><a href="#structure">Structure</a></li>
<li><a href="#build">Build</a><ul>
<li><a href="#linux">Linux</a></li>
<li><a href="#os-x">OS X</a></li>
<li><a href="#windows">Windows</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#unit-testing">Unit Testing</a></li>
</ul>
</li>
<li><a href="#license">License</a></li>
</ul>
<h1>Structure </h1>
<p>The project tree is organized as follows: </p><pre class="fragment">+cv/             OpenCV or custom API directory
+mexopencv/      mexopencv utility API directory
doc/             directory for documentation
include/         header files
lib/             directory for compiled C++ library files
samples/         directory for sample application codes
src/             directory for C++ source files
src/+cv/         directory for MEX source files
src/+cv/private/ directory for private MEX source files
test/            directory for test scripts and resources
opencv_contrib/  directory for sources/samples/tests of additional modules
utils/           directory for utilities
Doxyfile         config file for doxygen
Makefile         make script
README.markdown  this file
</pre><h1>Build </h1>
<p>Prerequisite</p>
<ul>
<li><a href="https://www.mathworks.com/products/matlab.html">MATLAB</a> or <a href="https://www.gnu.org/software/octave/">Octave</a> (&gt;= 4.0.0)</li>
<li><a href="https://opencv.org/">OpenCV</a> (3.4.1)</li>
</ul>
<p>Depending on your platform, you also need the required build tools:</p>
<ul>
<li>Linux: g++, make, pkg-config</li>
<li>OS X: Xcode Command Line Tools, pkg-config</li>
<li>Windows: Visual Studio</li>
</ul>
<p>Refer to the <code>Makefile</code> and <code>make.m</code> scripts for a complete list of options accepted for building mexopencv across supported platforms.</p>
<p>Refer to the <a href="https://github.com/kyamagu/mexopencv/wiki">wiki</a> for detailed build instructions.</p>
<h2>OpenCV </h2>
<p>Currently, mexopencv targets the final <b>3.4.1</b> stable version of OpenCV. You must build it against this exact version, rather than using the bleeding-edge dev-version of <code>opencv</code> and <code>opencv_contrib</code>. UNIX users should consider using a package manager to install OpenCV if available.</p>
<ul>
<li><a href="https://github.com/opencv/opencv/releases/tag/3.4.1">OpenCV</a></li>
<li><a href="https://github.com/opencv/opencv_contrib/releases/tag/3.4.1">OpenCV contributed modules</a></li>
</ul>
<p><b>DO NOT use the "master" branch of <code>opencv</code> and <code>opencv_contrib</code>!</b> <b>Only the 3.4.1 release is supported by mexopencv.</b></p>
<h2>Linux </h2>
<p>First make sure you have OpenCV 3.4.1 installed in the system:</p>
<ul>
<li>if applicable, install OpenCV 3 package available in your package manager (e.g., <code>libopencv-dev</code> in Debian/Ubuntu, <code>opencv-devel</code> in Fedora). Note that these packages are not always up-to-date, so you might need to use older mexopencv versions to match their <a href="https://packages.ubuntu.com/bionic/libopencv-dev">opencv package</a> version.</li>
<li>otherwise, you can always build and install OpenCV from <a href="https://github.com/opencv/opencv/releases/tag/3.4.1">source</a>: <pre class="fragment">  $ cd &lt;opencv_build_dir&gt;
  $ cmake &lt;options&gt; &lt;opencv_src_dir&gt;
  $ make
  $ sudo make install
</pre></li>
</ul>
<p>At this point, you should make sure that the <a href="https://people.freedesktop.org/~dbn/pkg-config-guide.html"><code>pkg-config</code></a> command can identify and locate OpenCV libraries (if needed, set the <code>PKG_CONFIG_PATH</code> environment variable to help it find the <code>opencv.pc</code> file): </p><pre class="fragment">$ pkg-config --cflags --libs opencv
</pre><p>If you have all the prerequisites, go to the mexopencv directory and type: </p><pre class="fragment">$ make
</pre><p>This will build and place all MEX functions inside <code>+cv/</code>. Specify your MATLAB directory if you installed MATLAB to a non-default location: </p><pre class="fragment">$ make MATLABDIR=/opt/local/MATLAB/R2017a
</pre><p>You can also work with <a href="https://www.gnu.org/software/octave/">Octave</a> instead of MATLAB by specifying: </p><pre class="fragment">$ make WITH_OCTAVE=true
</pre><p>To enable support for contributed modules, you must build OpenCV from both <a href="https://github.com/opencv/opencv/releases/tag/3.4.1"><code>opencv</code></a> and <a href="https://github.com/opencv/opencv_contrib/releases/tag/3.4.1"><code>opencv_contrib</code></a> sources. You can then compile mexopencv as: </p><pre class="fragment">$ make all contrib
</pre><p>Finally you can test mexopencv functionality: </p><pre class="fragment">$ make test
</pre><p>Developer documentation can be generated with Doxygen if installed: </p><pre class="fragment">$ make doc
</pre><p>This will create HTML files under <code>doc/</code>.</p>
<p>Refer to the wiki for detailed instructions on how to compile OpenCV for both <a href="https://github.com/kyamagu/mexopencv/wiki/Installation-%28Linux%2C-MATLAB%2C-OpenCV-3%29">MATLAB</a> and <a href="https://github.com/kyamagu/mexopencv/wiki/Installation-%28Linux%2C-Octave%2C-OpenCV-3%29">Octave</a>.</p>
<h2>OS X </h2>
<p>Currently, the recommended approach to install OpenCV in OS X is <a href="https://brew.sh/">Homebrew</a>. Install Homebrew first, and do the following to install OpenCV 3: </p><pre class="fragment">$ brew install pkg-config homebrew/science/opencv3
$ brew link opencv3
</pre><p>Otherwise, you can build OpenCV from <a href="https://github.com/opencv/opencv/releases/tag/3.4.1">source</a>, similar to the Linux case.</p>
<p>If you have all the prerequisites, go to the mexopencv directory and run (modifying the options as needed): </p><pre class="fragment">$ make MATLABDIR=/Applications/MATLAB_R2016a.app PKG_CONFIG_MATLAB=opencv3 LDFLAGS=-L/usr/local/share/OpenCV/3rdparty/lib -j2
</pre><p>Replace the path to MATLAB with your version. This will build and place all MEX functions inside <code>+cv/</code>.</p>
<h2>Windows </h2>
<p>Refer to <a href="https://github.com/kyamagu/mexopencv/wiki/Installation-%28Windows%2C-MATLAB%2C-OpenCV-3%29">the wiki</a> for detailed instructions on how to compile OpenCV on Windows, and build mexopencv against it.</p>
<p>In a nutshell, execute the following in MATLAB to compile mexopencv: </p><pre class="fragment">&gt;&gt; addpath('C:\path\to\mexopencv')
&gt;&gt; mexopencv.make('opencv_path','C:\OpenCV\build')
</pre><p>Replace the path above with the location where OpenCV binaries are installed (i.e location specified in <code>CMAKE_INSTALL_PREFIX</code> while building OpenCV).</p>
<p>Contrib modules are enabled as: </p><pre class="fragment">&gt;&gt; addpath('C:\path\to\mexopencv')
&gt;&gt; addpath('C:\path\to\mexopencv\opencv_contrib')
&gt;&gt; mexopencv.make('opencv_path','C:\OpenCV\build', 'opencv_contrib',true)
</pre><p>If you have previously compiled mexopencv with a different configuration, don't forget to clean old artifacts before building: </p><pre class="fragment">&gt;&gt; mexopencv.make('clean',true, 'opencv_contrib',true)
</pre><h1>Usage </h1>
<p>Once MEX functions are compiled, you can add path to the project directory and call MEX functions within MATLAB using package name <code>cv</code>.</p>
<div class="fragment"><div class="line">addpath(&#39;/path/to/mexopencv&#39;);</div><div class="line">addpath(&#39;/path/to/mexopencv/opencv_contrib&#39;);</div><div class="line"></div><div class="line">% recommended</div><div class="line">out = cv.filter2D(img, kern);  % with package name &#39;cv&#39;</div><div class="line"></div><div class="line">% not recommended</div><div class="line">import cv.*;</div><div class="line">out = filter2D(img, kern);     % no need to specify &#39;cv&#39; after imported</div></div><!-- fragment --><p>Note that some functions such as <code><a class="elRef" doxygen="/desktop/mexopencv/include/doxygen/opencv.tag:https://docs.opencv.org/3.4.1/" href="https://docs.opencv.org/3.4.1/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56">cv.imread</a></code> will overload MATLAB's built-in <code>imread</code> function when imported. Use the scoped name when you need to avoid name collision. It is also possible to import individual functions. Check <code>help import</code> in MATLAB.</p>
<p>Check a list of functions available by <code>help</code> command in MATLAB.</p>
<div class="fragment"><div class="line">&gt;&gt; help cv;              % shows list of functions in package &#39;cv&#39;</div><div class="line"></div><div class="line">&gt;&gt; help cv.VideoCapture; % shows documentation of VideoCapture</div></div><!-- fragment --><p>Look at the <code>samples/</code> directory for examples.</p>
<h2>Documentation </h2>
<p>mexopencv includes a simple documentation utility that generates HTML help files for MATLAB. The following command creates HTML user documentation under <code>doc/matlab/</code> directory.</p>
<div class="fragment"><div class="line">addpath(&#39;/path/to/mexopencv/utils&#39;);</div><div class="line">MDoc;</div></div><!-- fragment --><p>On-line documentation is <a href="http://kyamagu.github.io/mexopencv/matlab">available</a>.</p>
<h2>Unit Testing </h2>
<p>You can test the functionality of compiled files by <code>UnitTest</code> class located inside <code>test</code> directory.</p>
<div class="fragment"><div class="line">addpath(&#39;/path/to/mexopencv/test&#39;);</div><div class="line">UnitTest;</div></div><!-- fragment --><p>Look at the <code>test/unit_tests/</code> directory for all unit-tests.</p>
<h1>License </h1>
<p>The code may be redistributed under the [BSD 3-Clause license](LICENSE). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
