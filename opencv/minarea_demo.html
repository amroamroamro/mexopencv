<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <!--This HTML was auto-generated from published MATLAB code.-->
      <title>Minimum Area Enclosing</title>
      <meta name="generator" content="MATLAB 9.2">
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="DC.date" content="2017-11-27">
      <meta name="DC.source" content="minarea_demo.m">
      <link rel="stylesheet" type="text/css" href="publish_custom.css">
   </head>
   <body>
      <div class="content">
         <h1 id="1">Minimum Area Enclosing</h1>
         <!--introduction-->
         <p>This program demonstrates finding the minimum enclosing box, triangle or circle of a set of points using functions: <tt>cv.minAreaRect</tt>, <tt>cv.minEnclosingTriangle</tt>, and <tt>cv.minEnclosingCircle</tt>. Random points are generated and then enclosed.
         </p>
         <p>Sources:</p>
         <div>
            <ul>
               <li><a href="https://github.com/opencv/opencv/blob/3.3.1/samples/cpp/minarea.cpp">https://github.com/opencv/opencv/blob/3.3.1/samples/cpp/minarea.cpp</a></li>
            </ul>
         </div>
         <!--/introduction-->
         <h2 id="toc">Contents</h2>
         <div>
            <ul>
               <li><a href="#2">Points</a></li>
               <li><a href="#3">Minimum-area enclosing shapes</a></li>
               <li><a href="#4">Result</a></li>
            </ul>
         </div>
         <h2 id="2">Points</h2><pre class="codeinput"><span class="comment">% create black image</span>
img = zeros([500 500 3], <span class="string">'uint8'</span>);
[h,w,~] = size(img);

<span class="comment">% generate  random set of 2D points</span>
count = randi([5 100]);
points = [randi(fix([w w*3]/4), [count 1]) randi(fix([h h*3]/4), [count 1])];</pre><h2 id="3">Minimum-area enclosing shapes</h2><pre class="codeinput"><span class="comment">% find the minimum area enclosing bounding box</span>
box = cv.minAreaRect(points);
vtx = cv.RotatedRect.points(box);

<span class="comment">% find the minimum area enclosing triangle</span>
triangle = cv.minEnclosingTriangle(points);
triangle = cat(1, triangle{:});

<span class="comment">% find the minimum area enclosing circle</span>
[center, radius] = cv.minEnclosingCircle(points);</pre><h2 id="4">Result</h2><pre class="codeinput"><span class="comment">% draw the points</span>
<span class="keyword">for</span> i=1:count
    img = cv.circle(img, points(i,:), 3, <span class="keyword">...</span>
        <span class="string">'Color'</span>,[255 0 0], <span class="string">'Thickness'</span>,<span class="string">'Filled'</span>, <span class="string">'LineType'</span>,<span class="string">'AA'</span>);
<span class="keyword">end</span>

<span class="comment">% draw the bounding box</span>
<span class="keyword">for</span> i=1:4
  img = cv.line(img, vtx(i,:), vtx(mod(i,4)+1,:), <span class="keyword">...</span>
    <span class="string">'Color'</span>,[0 255 0], <span class="string">'Thickness'</span>,1, <span class="string">'LineType'</span>,<span class="string">'AA'</span>);
<span class="keyword">end</span>

<span class="comment">% draw the triangle</span>
<span class="keyword">for</span> i=1:3
  img = cv.line(img, triangle(i,:), triangle(mod(i,3)+1,:), <span class="keyword">...</span>
    <span class="string">'Color'</span>,[0 255 255], <span class="string">'Thickness'</span>,1, <span class="string">'LineType'</span>,<span class="string">'AA'</span>);
<span class="keyword">end</span>

<span class="comment">% draw the circle</span>
img = cv.circle(img, center, round(radius), <span class="keyword">...</span>
    <span class="string">'Color'</span>,[255 255 0], <span class="string">'Thickness'</span>,1, <span class="string">'LineType'</span>,<span class="string">'AA'</span>);

<span class="comment">% show output</span>
imshow(img), title(<span class="string">'Rectangle, triangle &amp; circle'</span>)</pre><img src="minarea_demo_01.png"><div class="footer">
            <p><a href="https://www.mathworks.com/products/matlab.html">Published with MATLAB&reg; R2017a</a></p>
         </div>
      </div>
      <!--
##### SOURCE BEGIN #####
%% Minimum Area Enclosing
% This program demonstrates finding the minimum enclosing box, triangle or
% circle of a set of points using functions: |cv.minAreaRect|,
% |cv.minEnclosingTriangle|, and |cv.minEnclosingCircle|.
% Random points are generated and then enclosed.
%
% Sources:
%
% * <https://github.com/opencv/opencv/blob/3.3.1/samples/cpp/minarea.cpp>
%

%% Points

% create black image
img = zeros([500 500 3], 'uint8');
[h,w,~] = size(img);

% generate  random set of 2D points
count = randi([5 100]);
points = [randi(fix([w w*3]/4), [count 1]) randi(fix([h h*3]/4), [count 1])];

%% Minimum-area enclosing shapes

% find the minimum area enclosing bounding box
box = cv.minAreaRect(points);
vtx = cv.RotatedRect.points(box);

% find the minimum area enclosing triangle
triangle = cv.minEnclosingTriangle(points);
triangle = cat(1, triangle{:});

% find the minimum area enclosing circle
[center, radius] = cv.minEnclosingCircle(points);

%% Result

% draw the points
for i=1:count
    img = cv.circle(img, points(i,:), 3, ...
        'Color',[255 0 0], 'Thickness','Filled', 'LineType','AA');
end

% draw the bounding box
for i=1:4
  img = cv.line(img, vtx(i,:), vtx(mod(i,4)+1,:), ...
    'Color',[0 255 0], 'Thickness',1, 'LineType','AA');
end

% draw the triangle
for i=1:3
  img = cv.line(img, triangle(i,:), triangle(mod(i,3)+1,:), ...
    'Color',[0 255 255], 'Thickness',1, 'LineType','AA');
end

% draw the circle
img = cv.circle(img, center, round(radius), ...
    'Color',[255 255 0], 'Thickness',1, 'LineType','AA');

% show output
imshow(img), title('Rectangle, triangle & circle')

##### SOURCE END #####
-->
   </body>
</html>