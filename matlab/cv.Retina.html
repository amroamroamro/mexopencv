<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   
      <link rel="stylesheet" href="helpwin.css" />
      <title>cv.Retina - mexopencv</title>
   <link rel="stylesheet" type="text/css" href="helpwin_custom.css" />
<meta name="generator" content="MATLAB 9.4.0.902940 (R2018a) Update 4" />
<meta name="description" content="cv.Retina - A biological retina model for image spatio-temporal noise and luminance changes enhancement" />
<link rel="stylesheet" type="text/css" href="matlab.min.css" />
</head>
   <body onload="PR.prettyPrint();">
      <!--Single-page help-->
      <table border="0" cellspacing="0" width="100%">
         <tbody><tr class="subheader">
            <td class="headertitle">cv.Retina - MATLAB File Help</td>
            <td class="subheader-left"></td>
            <td class="subheader-right"><a href="cv.Retina.html">Go to online doc for cv.Retina</a></td>
         </tr>
      </tbody></table>
      <div class="title">cv.Retina</div>
      <div class="helpcontent"><p class=" h1line">A biological retina model for image spatio-temporal noise and luminance changes enhancement</p>
<p>Class which allows the Gipsa/Listic Labs model to be used with OpenCV.</p>
<p>This retina model allows spatio-temporal image processing (applied on
still images, video sequences).</p>
<p>As a summary, these are the retina model properties:</p>
<ul>
<li>It applies a spectral whithening (mid-frequency details enhancement)</li>
<li>high frequency spatio-temporal noise reduction</li>
<li>low frequency luminance to be reduced (luminance range compression)</li>
<li>local logarithmic luminance compression allows details to be enhanced
in low light conditions</li>
</ul>
<p><strong>USE</strong>: this model can be used basically for spatio-temporal video
effects but also for:</p>
<ul>
<li>using the <code>getParvo</code> method output matrix: texture analysis with
enhanced signal to noise ratio and enhanced details robust against
input images luminance ranges</li>
<li>using the <code>getMagno</code> method output matrix: motion analysis also with
the previously cited properties</li>
</ul>
<p>For more information, refer to the following papers [Benoit2010] and
[Herault2010].</p>
<h2>Retina class overview</h2>
<h3>Introduction</h3>
<p>This class provides the main controls of the Gipsa/Listic labs human
retina model. This is a non separable spatio-temporal filter modelling
the two main retina information channels:</p>
<ul>
<li>foveal vision for detailed color vision: the parvocellular pathway.</li>
<li>peripheral vision for sensitive transient signals detection (motion
and events): the magnocellular pathway.</li>
</ul>
<p>This model originates from Jeanny Herault work [Herault2010]. It has
been involved in Alexandre Benoit phd and his current research
[Benoit2010], [Benoit2014]. He currently maintains this module within
OpenCV. It includes the work of other Jeanny's phd student such as
[Chaix2007] and the log polar transformations of Barthelemy Durette
described in Jeanny's book.</p>
<p>More into details here is an overview of the retina properties that are
implemented here:</p>
<p>Regarding luminance and details enhancement:</p>
<ul>
<li>local logarithmic luminance compression (at the entry point by
photoreceptors and at the output by ganglion cells).</li>
<li>spectral whitening at the Outer Plexiform Layer level (photoreceptors
and horizontal cells spatio-temporal filtering).</li>
</ul>
<p>The former behavior compresses luminance range and allows very bright
areas and very dark ones to be visible on the same picture with lots of
details. The latter reduces low frequency luminance energy (mean
luminance) and enhances mid-frequencies (details). Applied all together,
retina well prepares visual signals prior high level analysis. Those
properties are really interesting with videos where light changes are
dramatically reduced with an interesting temporal consistency.</p>
<p>Regarding noise filtering :</p>
<ul>
<li>high frequency spatial and temporal noise is filtered out. Both
outputs Parvo and Magno pathways benefit from this. Noise reduction
benefits from the non separable spatio-temporal filtering.</li>
<li>at the Parvo output, static textures are enhanced and noise is
filtered (on videos, temporal noise is nicely removed). However, as
human behaviors, moving textures are smoothed. Then, moving object
details can be only enhanced  if the retina tracks it and keeps it
static from its point of view.</li>
<li>at Magno output, it allows a cleaner detection of events (motion,
changes) with reduced noise errors even in difficult lighting
conditions. As a compromise, the Magno output is a low spatial
frequency signal and allows events' blobs to be reliably extracted
(check the <a href="cv.TransientAreasSegmentationModule.html">cv.TransientAreasSegmentationModule</a> module for that).</li>
</ul>
<h3>Use</h3>
<p>This model can be used as a preprocessing stage in the aim of:</p>
<ul>
<li>performing texture analysis with enhanced signal to noise ratio and
enhanced details which are robust against input images luminance
ranges (check out the parvocellular retina channel output, by using
the provided <code>getParvo</code> methods)</li>
<li>performing motion analysis that is also taking advantage of the
previously cited properties (check out the magnocellular retina
channel output, by using the provided <code>getMagno</code> methods)</li>
<li>general image/video sequence description using either one or both
channels. An example of the use of Retina in a Bag of Words approach
is given in [Benoit2014].</li>
</ul>
<p>Note:</p>
<ul>
<li>For ease of use in computer vision applications, the two retina
channels are applied on all the input images. This does not follow the
real retina topology but it is practical from an image processing
point of view. If retina mapping (foveal and parafoveal vision) is
required, use the log sampling capabilities proposed within the class.</li>
<li>Please do not hesitate to contribute by extending the retina
description, code, use cases for complementary explanations and
demonstrations.</li>
</ul>
<h3>Use case illustrations</h3>
<h4>Image preprocessing using the Parvocellular pathway (parvo retina output)</h4>
<p>As a preliminary presentation, let's start with a visual example. We
propose to apply the filter on a low quality color jpeg image with
backlight problems. Here is the considered input...
<em>&quot;Well,i could see more with my eyes than what i captured with my camera...&quot;</em></p>
<p><img src="https://docs.opencv.org/3.3.1/retinaInput.jpg" alt="image" /></p>
<p>Below, the retina foveal model applied on the entire image with default
parameters. Details are enforced whatever the local luminance is. Here
there contours are strongly enforced but the noise level is kept low.
Halo effects are voluntary visible with this configuration. See
parameters discussion below and increase <code>HorizontalCellsGain</code> near 1 to
remove them.</p>
<p><img src="https://docs.opencv.org/3.3.1/retinaOutput_default.jpg" alt="image" /></p>
<p>Below, a second retina foveal model output applied on the entire image
with a parameters setup focused on naturalness perception.
<em>&quot;Hey, i now recognize my cat, looking at the mountains at the end of the day!&quot;</em>.
Here contours are enforced, luminance is corrected but halos are avoided
with this configuration. The backlight effect is corrected and highlight
details are still preserved. Then, even on a low quality jpeg image, if
some luminance's information remains, the retina is able to reconstruct
a proper visual signal. Such configuration is also useful for High
Dynamic Range (HDR) images compression to 8bit images as discussed in
[Benoit2010] and in the demonstration codes discussed below. As shown at
the end of the page, parameter changes from defaults are:</p>
<ul>
<li><code>HorizontalCellsGain = 0.3</code></li>
<li><code>PhotoreceptorsLocalAdaptationSensitivity = GanglioncellsSensitivity = 0.89</code>.</li>
</ul>
<p><img src="https://docs.opencv.org/3.3.1/retinaOutput_realistic.jpg" alt="image" /></p>
<p>As observed in this preliminary demo, the retina can be settled up with
various parameters, by default, as shown on the figure above, the retina
strongly reduces mean luminance energy and enforces all details of the
visual scene. Luminance energy and halo effects can be modulated
(exaggerated to cancelled as shown on the two examples). In order to use
your own parameters, you can use at least one time the <a href="cv.Retina.write.html">cv.Retina.write</a>
method which will write a proper XML file with all default parameters.
Then, tweak it on your own and reload them at any time using method
<a href="cv.Retina.setup.html">cv.Retina.setup</a>. These methods update a <code>RetinaParameters</code> member
structure that is described hereafter. XML parameters file samples are
shown at the end of the page.</p>
<h4>Tone mapping processing capability using the Parvocellular pathway (parvo retina output)</h4>
<p>This retina model naturally handles luminance range compression. Local
adaptation stages and spectral whitening contribute to luminance range
compression. In addition, high frequency noise that often corrupts tone
mapped images is removed at early stages of the process thus leading to
natural perception and noise free tone mapping.</p>
<p>Compared to the demos shown above, setup differences are the following
ones:</p>
<ul>
<li>load HDR images (OpenEXR format is supported by OpenCV) and cut
histogram borders at ~5% and 95% to eliminate salt&amp;pepper like pixel's
corruption.</li>
<li>apply retina with default parameters along with the following changes
(generic parameters used for the presented illustrations of the
section):
<ul>
<li><code>HorizontalCellsGain=0.4</code> (the main change compared to the default
configuration: it strongly reduces halo effects)</li>
<li><code>PhotoreceptorsLocalAdaptationSensitivity=0.99</code> (a little higher
than default value to enforce local adaptation)</li>
<li><code>GanglionCellsSensitivity=0.95</code> (also slightly higher than default
for local adaptation enforcement)</li>
</ul>
</li>
<li>get the parvo output using the <a href="cv.Retina.getParvo.html">cv.Retina.getParvo</a> method.</li>
</ul>
<p>Have a look at the end of this page to see how to specify these
parameters in a configuration file.</p>
<p>The following two illustrations show the effect of such configuration on
2 image samples.</p>
<ul>
<li>
<p>HDR image tone mapping example with generic parameters.
Original image comes from <a href="http://openexr.com/" target="_blank">OpenEXR</a> samples
(<code>openexr-images-1.7.0/ScanLines/CandleGlass.exr</code>)</p>
<p><img src="https://docs.opencv.org/3.3.1/HDRtoneMapping_candleSample.jpg" alt="image" /></p>
</li>
<li>
<p>HDR image tone mapping example with the same generic parameters.
Original image comes from
<a href="http://www.pauldebevec.com/Research/HDR/memorial.exr" target="_blank">memorial.exr</a></p>
<p><img src="https://docs.opencv.org/3.3.1/HDRtoneMapping_memorialSample.jpg" alt="image" /></p>
</li>
</ul>
<h4>Motion and event detection using the Magnocellular pathway (magno retina output)</h4>
<p>Spatio-temporal events can be easily detected using <em>magno</em> output of
the retina (use the <a href="cv.Retina.getMagno.html">cv.Retina.getMagno</a> method). Its energy linearly
increases with motion speed.</p>
<p>An event blob detector is proposed with the
<a href="cv.TransientAreasSegmentationModule.html">cv.TransientAreasSegmentationModule</a> class also provided in the
bioinspired module. The basic idea is to detect local energy drops with
regard of the neighborhood and then to apply a threshold. Such process
has been used in a bag of words description of videos on the TRECVid
challenge [Benoit2014] and only allows video frames description on
transient areas.</p>
<p>We present here some illustrations of the retina outputs on some
examples taken from <a href="http://changedetection.net/" target="_blank">CDNET</a> with RGB and
thermal videos.</p>
<p>NOTE: here, we use the default retina setup that generates halos around
strong edges. Note that temporal constants allow a temporal effect to be
visible on moting objects (useful for still image illustrations of a
video). Halos can be removed by increasing retina Hcells gain while
temporal effects can be reduced by decreasing temporal constant values.
Also take into account that the two retina outputs are rescaled in range
<code>[0:255]</code> such that magno output can show a lot of &quot;noise&quot; when nothing
moves while drawing it. However, its energy remains low if you retrieve
it using <a href="cv.Retina.getMagnoRAW.html">cv.Retina.getMagnoRAW</a> getter instead.</p>
<ul>
<li>
<p>Retina processing on RGB image sequence: example from
<a href="http://changedetection.net/" target="_blank">CDNET</a> (baseline/PETS2006).
Parvo enforces static signals but smooths moving persons since they do
not remain static from its point of view.
Magno channel highligths moving persons, observe the energy mapping on
the one on top, partly behind a dark glass.</p>
<p><img src="https://docs.opencv.org/3.3.1/VideoDemo_RGB_PETS2006.jpg" alt="image" /></p>
</li>
<li>
<p>Retina processing on gray levels image sequence: example from
<a href="http://changedetection.net/" target="_blank">CDNET</a> (thermal/park).
On such grayscale images, parvo channel enforces contrasts while mango
strongly reacts on moving pedestrians</p>
<p><img src="https://docs.opencv.org/3.3.1/VideoDemo_thermal_park.jpg" alt="image" /></p>
</li>
</ul>
<h3>Literature</h3>
<p>For more information, refer to the following papers:</p>
<ul>
<li>Model description: [Benoit2010]</li>
<li>Model use in a Bag of Words approach: [Benoit2014]</li>
<li>Please have a look at the reference work of Jeanny Herault that you
can read in his book: [Herault2010]</li>
</ul>
<p>This retina filter code includes the research contributions of
phd/research collegues from which code has been redrawn by the author:</p>
<ul>
<li>
<p>take a look at the <code>retinacolor.hpp</code> module to discover Brice Chaix
de Lavarene phD color mosaicing/demosaicing and his reference paper
[Chaix2007]</p>
</li>
<li>
<p>take a look at <code>imagelogpolprojection.hpp</code> to discover retina spatial
log sampling which originates from Barthelemy Durette phd with Jeanny
Herault. A Retina / V1 cortex projection is also proposed and
originates from Jeanny's discussions. More information in the above
cited Jeanny Heraults's book.</p>
</li>
<li>
<p>Meylan et al. work on HDR tone mapping that is implemented as a
specific method within the model [Meylan2007]</p>
</li>
</ul>
<h2>Retina programming interfaces</h2>
<p>The proposed class allows the <a href="http://www.gipsa-lab.inpg.fr" target="_blank">Gipsa</a>
(preliminary work) / <a href="http://www.listic.univ-savoie.fr" target="_blank">Listic</a> labs
retina model to be used. It can be applied on still images, images
sequences and video sequences.</p>
<h3>Setting up Retina</h3>
<h4>Managing the configuration file</h4>
<p>When using the <a href="cv.Retina.write.html">cv.Retina.write</a> and <a href="cv.Retina.load.html">cv.Retina.load</a> methods, you create or
load a XML file that stores Retina configuration.</p>
<p>The default configuration is presented below.</p>
<pre class=" prettyprint"><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;opencv_storage&gt;
&lt;OPLandIPLparvo&gt;
    &lt;colorMode&gt;1&lt;/colorMode&gt;
    &lt;normaliseOutput&gt;1&lt;/normaliseOutput&gt;
    &lt;photoreceptorsLocalAdaptationSensitivity&gt;7.5e-01&lt;/photoreceptorsLocalAdaptationSensitivity&gt;
    &lt;photoreceptorsTemporalConstant&gt;9.0e-01&lt;/photoreceptorsTemporalConstant&gt;
    &lt;photoreceptorsSpatialConstant&gt;5.7e-01&lt;/photoreceptorsSpatialConstant&gt;
    &lt;horizontalCellsGain&gt;0.01&lt;/horizontalCellsGain&gt;
    &lt;hcellsTemporalConstant&gt;0.5&lt;/hcellsTemporalConstant&gt;
    &lt;hcellsSpatialConstant&gt;7.&lt;/hcellsSpatialConstant&gt;
    &lt;ganglionCellsSensitivity&gt;7.5e-01&lt;/ganglionCellsSensitivity&gt;
&lt;/OPLandIPLparvo&gt;
&lt;IPLmagno&gt;
    &lt;normaliseOutput&gt;1&lt;/normaliseOutput&gt;
    &lt;parasolCells_beta&gt;0.&lt;/parasolCells_beta&gt;
    &lt;parasolCells_tau&gt;0.&lt;/parasolCells_tau&gt;
    &lt;parasolCells_k&gt;7.&lt;/parasolCells_k&gt;
    &lt;amacrinCellsTemporalCutFrequency&gt;2.0e+00&lt;/amacrinCellsTemporalCutFrequency&gt;
    &lt;V0CompressionParameter&gt;9.5e-01&lt;/V0CompressionParameter&gt;
    &lt;localAdaptintegration_tau&gt;0.&lt;/localAdaptintegration_tau&gt;
    &lt;localAdaptintegration_k&gt;7.&lt;/localAdaptintegration_k&gt;
&lt;/IPLmagno&gt;
&lt;/opencv_storage&gt;
</code></pre>
<p>Here are some words about all those parameters, tweak them as you wish
to amplify or moderate retina effects (contours enforcement, halos
effects, motion sensitivity, motion blurring, etc.)</p>
<h4>Basic parameters</h4>
<p>The simplest parameters are as follows:</p>
<ul>
<li><strong>ColorMode</strong>: let the retina process color information (if 1) or gray
scale images (if 0). In that last case, only the first channels of the
input will be processed.</li>
<li><strong>NormaliseOutput</strong>: each channel has such parameter: if the value is
set to 1, then the considered channel's output is rescaled between 0
and 255. Be aware at this case of the Magnocellular output level
(motion/transient channel detection). Residual noise will also be
rescaled!</li>
</ul>
<p><strong>Note</strong>: using color requires color channels multiplexing/demultipexing
which also demands more processing. You can expect much faster processing
using gray levels: it would require around 30 product per pixel for all
of the retina processes and it has recently been parallelized for
multicore architectures.</p>
<h4>Photo-receptors parameters</h4>
<p>The following parameters act on the entry point of the retina
(photo-receptors) and has impact on all of the following processes.
These sensors are low pass spatio-temporal filters that smooth temporal
and spatial data and also adjust their sensitivity to local luminance,
thus, leads to improving details extraction and high frequency noise
canceling.</p>
<ul>
<li><strong>PhotoreceptorsLocalAdaptationSensitivity</strong> between 0 and 1. Values
close to 1 allow high luminance log compression's effect at the
photo-receptors level. Values closer to 0 provide a more linear
sensitivity. Increased alone, it can burn the <em>Parvo (details channel)</em>
output image. If adjusted in collaboration with
<code>GanglionCellsSensitivity</code>, images can be very contrasted whatever the
local luminance there is at the cost of a naturalness decrease.</li>
<li><strong>PhotoreceptorsTemporalConstant</strong> this setups the temporal constant
of the low pass filter effect at the entry of the retina. High value
leads to strong temporal smoothing effect: moving objects are blurred
and can disappear while static object are favored. But when starting
the retina processing, stable state is reached later.</li>
<li><strong>PhotoreceptorsSpatialConstant</strong> specifies the spatial constant
related to photo-receptors' lowpass filter's effect. Those parameters
specify the minimum value of the spatial signal period allowed in what
follows. Typically, this filter should cut high frequency noise. On
the other hand, a 0 value cuts none of the noise while higher values
start to cut high spatial frequencies, and progressively lower
frequencies... Be aware to not go to high levels if you want to see
some details of the input images! A good compromise for color images
is a 0.53 value since such choice won't affect too much the color
spectrum. Higher values would lead to gray and blurred output images.</li>
</ul>
<h4>Horizontal cells parameters</h4>
<p>This parameter set tunes the neural network connected to the
photo-receptors, the horizontal cells. It modulates photo-receptors
sensitivity and completes the processing for final spectral whitening
(part of the spatial band pass effect thus favoring visual details
enhancement).</p>
<ul>
<li><strong>HorizontalCellsGain</strong> here is a critical parameter! If you are not
interested with the mean luminance and want just to focus on details
enhancement, then, set this parameterto zero. However, if you want to
keep some environment luminance's data, let some low spatial
frequencies pass into the system and set a higher value (&lt;1).</li>
<li><strong>HCellsTemporalConstant</strong> similar to photo-receptors, this parameter
acts on the temporal constant of a low pass temporal filter that
smooths input data. Here, a high value generates a high retina after
effect while a lower value makes the retina more reactive. This value
should be lower than <code>PhotoreceptorsTemporalConstant</code> to limit strong
retina after effects.</li>
<li><strong>HCellsSpatialConstant</strong> is the spatial constant of these cells
filter's low pass one. It specifies the lowest spatial frequency
allowed in what follows. Visually, a high value leads to very low
spatial frequencies processing and leads to salient halo effects.
Lower values reduce this effect but has the limit of not go lower than
the value of <code>PhotoreceptorsSpatialConstant</code>. Those 2 parameters
actually specify the spatial band-pass of the retina.</li>
</ul>
<p><strong>NOTE</strong>: Once the processing managed by the previous parameters is done,
input data is cleaned from noise and luminance is already partly
enhanced. The following parameters act on the last processing stages of
the two outing retina signals.</p>
<h4>Parvo (details channel) dedicated parameter</h4>
<ul>
<li><strong>GanglionCellsSensitivity</strong> specifies the strength of the final local
adaptation occurring at the output of this details' dedicated channel.
Parameter values remain between 0 and 1. Low value tend to give a
linear response while higher values enforce the remaining low
contrasted areas.</li>
</ul>
<p><strong>Note</strong>: this parameter can correct eventual burned images by favoring
low energetic details of the visual scene, even in bright areas.</p>
<h4>IPL Magno (motion/transient channel) parameters</h4>
<p>Once image's information are cleaned, this channel acts as a high pass
temporal filter that selects only the signals related to transient
signals (events, motion, etc.). A low pass spatial filter smooths
extracted transient data while a final logarithmic compression enhances
low transient events thus enhancing event sensitivity.</p>
<ul>
<li><strong>ParasolCellsBeta</strong> generally set to zero, can be considered as an
amplifier gain at the entry point of this processing stage. Generally
set to 0.</li>
<li><strong>ParasolCellsTau</strong> the temporal smoothing effect that can be added</li>
<li><strong>ParasolCellsK</strong> the spatial constant of the spatial filtering
effect, set it at a high value to favor low spatial frequency signals
that are lower subject for residual noise.</li>
<li><strong>AmacrinCellsTemporalCutFrequency</strong> specifies the temporal constant
of the high pass filter. High values let slow transient events to be
selected.</li>
<li><strong>V0CompressionParameter</strong> specifies the strength of the log
compression. Similar behaviors to previous description but here
enforces sensitivity of transient events.</li>
<li><strong>LocalAdaptintegrationTau</strong> generally set to 0, has no real use
actually in here.</li>
<li><strong>LocalAdaptintegrationK</strong> specifies the size of the area on which
local adaptation is performed. Low values lead to short range local
adaptation (higher sensitivity to noise), high values secure log
compression.</li>
</ul>
<h3>Demos and experiments</h3>
<h4>First time experiments</h4>
<p>Here are some code snippets to shortly show how to use Retina with
default parameters (with halo effects). Next section redirects to more
complete demos provided with the main retina class.</p>
<p>Here is presented how to process a webcam stream with the following
steps:</p>
<ul>
<li>load a frist input image to get its size</li>
<li>allocate a retina instance with appropriate input size</li>
<li>loop over grabbed frames:
<ul>
<li>grab a new frame</li>
<li>run on a frame</li>
<li>call the two output getters</li>
<li>display retina outputs</li>
</ul>
</li>
</ul>
<p>See <code>retina_demo.m</code> MATLAB sample.</p>
<h4>More complete demos</h4>
<p>Note: Complementary to the following examples, have a look at the Retina
tutorial in the tutorial/contrib section for complementary explanations.</p>
<h2>References</h2>
<p>[Benoit2010]:</p>
<blockquote>
<p>Benoit A., Caplier A., Durette B., Herault, J.; &quot;Using Human Visual
System Modeling For Bio-inspired Low Level Image Processing&quot;, Elsevier,
Computer Vision and Image Understanding 114 (2010), pp. 758-773,
<a href="http://dx.doi.org/10.1016/j.cviu.2010.01.011" target="_blank">DOI</a></p>
</blockquote>
<p>[Benoit2014]:</p>
<blockquote>
<p>Strat S.T., Benoit A., Lambert P.; &quot;Retina enhanced bag of words
descriptors for video classification&quot;. In Proceedings of the 22nd
European Signal Processing Conference (EUSIPCO), 2014, pp. 1307-1311.</p>
</blockquote>
<p>[Herault2010]:</p>
<blockquote>
<p>Jeanny Herault; &quot;Vision: Images, Signals and Neural Networks: Models
of Neural Processing in Visual Perception&quot; (Progress in Neural
Processing), ISBN: 9814273686. WAPI (Tower ID): 113266891.</p>
</blockquote>
<p>[Chaix2007]:</p>
<blockquote>
<p>B. Chaix de Lavarene, D. Alleysson, B. Durette, J. Herault (2007).
&quot;Efficient demosaicing through recursive filtering&quot;. IEEE
International Conference on Image Processing ICIP 2007.</p>
</blockquote>
<p>[Meylan2007]:</p>
<blockquote>
<p>Meylan L., Alleysson D., and Susstrunk S., &quot;A Model of Retinal Local
Adaptation for the Tone Mapping of Color Filter Array Images&quot;, Journal
of Optical Society of America, A, Vol. 24, N. 9, September, 1st, 2007,
pp. 2807-2816</p>
</blockquote>
</div><!--after help --><!--seeAlso--><div class="footerlinktitle">See also</div><div class="footerlink"> <a href="cv.RetinaFastToneMapping.html">cv.RetinaFastToneMapping</a>, <a href="cv.TransientAreasSegmentationModule.html">cv.TransientAreasSegmentationModule</a></div>
      <!--Class-->
      <div class="sectiontitle">Class Details</div>
      <table class="class-details">
         <tbody><tr>
            <td class="class-detail-label">Superclasses</td>
            <td><a href="https://www.mathworks.com/help/matlab/ref/handle.html" target="_blank">handle</a></td>
         </tr>
         <tr>
            <td class="class-detail-label">Sealed</td>
            <td>false</td>
         </tr>
         <tr>
            <td class="class-detail-label">Construct on load</td>
            <td>false</td>
         </tr>
      </tbody></table>
      <!--Constructors-->
      <div class="sectiontitle"><a name="constructors"></a>Constructor Summary
      </div>
      <table class="summary-list">
         <tbody><tr class="summary-item">
            <td class="name"><a href="cv.Retina.Retina.html">Retina</a></td>
            <td class="m-help">Constructor from standardized interface to create a Retina instance&nbsp;</td>
         </tr>
      </tbody></table>
      <!--Properties-->
      <div class="sectiontitle"><a name="properties"></a>Property Summary
      </div>
      <table class="summary-list">
         <tbody><tr class="summary-item">
            <td class="name"><a href="cv.Retina.id.html">id</a></td>
            <td class="m-help">Object ID&nbsp;</td>
         </tr>
      </tbody></table>
      <!--Methods-->
      <div class="sectiontitle"><a name="methods"></a>Method Summary
      </div>
      <table class="summary-list">
         <tbody><tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.activateContoursProcessing.html">activateContoursProcessing</a></td>
            <td class="m-help">Activate/desactivate the Parvocellular pathway processing (contours information extraction)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.activateMovingContoursProcessing.html">activateMovingContoursProcessing</a></td>
            <td class="m-help">Activate/desactivate the Magnocellular pathway processing (motion information extraction)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">addlistener</a></td>
            <td class="m-help">Add listener for event.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.applyFastToneMapping.html">applyFastToneMapping</a></td>
            <td class="m-help">Method which processes an image in the aim to correct its luminance correct backlight problems, enhance details in shadows&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.clear.html">clear</a></td>
            <td class="m-help">Clears the algorithm state&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.clearBuffers.html">clearBuffers</a></td>
            <td class="m-help">Clears all retina buffers&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.delete.html">delete</a></td>
            <td class="m-help">Destructor&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.empty.html">empty</a></td>
            <td class="m-help">Checks if detector object is empty&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">eq</a></td>
            <td class="m-help">== (EQ)   Test handle equality.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">findobj</a></td>
            <td class="m-help">Find objects matching specified conditions.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">findprop</a></td>
            <td class="m-help">Find property of MATLAB handle object.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">ge</a></td>
            <td class="m-help">&gt;= (GE)   Greater than or equal relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getDefaultName.html">getDefaultName</a></td>
            <td class="m-help">Returns the algorithm string identifier&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getInputSize.html">getInputSize</a></td>
            <td class="m-help">Retreive retina input buffer size&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getMagno.html">getMagno</a></td>
            <td class="m-help">Accessor of the motion channel of the retina (models peripheral vision)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getMagnoRAW.html">getMagnoRAW</a></td>
            <td class="m-help">Accessor of the motion channel of the retina (models peripheral vision)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getOutputSize.html">getOutputSize</a></td>
            <td class="m-help">Retreive retina output buffer size that can be different from the input if a spatial log transformation is applied&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getParameters.html">getParameters</a></td>
            <td class="m-help">Retrieve the current retina parameters values in a structure&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getParvo.html">getParvo</a></td>
            <td class="m-help">Accessor of the details channel of the retina (models foveal vision)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.getParvoRAW.html">getParvoRAW</a></td>
            <td class="m-help">Accessor of the details channel of the retina (models foveal vision)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">gt</a></td>
            <td class="m-help">&gt; (GT)   Greater than relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">Sealed 
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">isvalid</a></td>
            <td class="m-help">Test handle validity.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">le</a></td>
            <td class="m-help">&lt;= (LE)   Less than or equal relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">listener</a></td>
            <td class="m-help">Add listener for event without binding the listener to the source object.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.load.html">load</a></td>
            <td class="m-help">Loads algorithm from a file or a string&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">lt</a></td>
            <td class="m-help">&lt; (LT)   Less than relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">ne</a></td>
            <td class="m-help">~= (NE)   Not equal relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">notify</a></td>
            <td class="m-help">Notify listeners of event.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.printSetup.html">printSetup</a></td>
            <td class="m-help">Outputs a string showing the used parameters setup&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.run.html">run</a></td>
            <td class="m-help">Method which allows retina to be applied on an input image&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.save.html">save</a></td>
            <td class="m-help">Saves the algorithm parameters to a file&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.setColorSaturation.html">setColorSaturation</a></td>
            <td class="m-help">Activate color saturation as the final step of the color demultiplexing process&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.setup.html">setup</a></td>
            <td class="m-help">Try to open an XML retina parameters file to adjust current retina instance setup&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.setupIPLMagnoChannel.html">setupIPLMagnoChannel</a></td>
            <td class="m-help">Set parameters values for the Inner Plexiform Layer (IPL) magnocellular channel&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.setupOPLandIPLParvoChannel.html">setupOPLandIPLParvoChannel</a></td>
            <td class="m-help">Setup the OPL and IPL parvo channels (see biologocal model)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.setupParameters.html">setupParameters</a></td>
            <td class="m-help">Pass retina parameters to adjust current retina instance setup&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="cv.Retina.write.html">write</a></td>
            <td class="m-help">Write xml/yml formatted parameters information&nbsp;</td>
         </tr>
      </tbody></table>
      <!--Events-->
      <div class="sectiontitle"><a name="events"></a>Event Summary
      </div>
      <table class="summary-list">
         <tbody><tr class="summary-item">
            <td class="name"><a href="https://www.mathworks.com/help/matlab/ref/handle-class.html" target="_blank">ObjectBeingDestroyed</a></td>
            <td class="m-help">Notifies listeners that a particular object has been destroyed.&nbsp;</td>
         </tr>
      </tbody></table>
   
<script type="text/javascript" src="prettify.js"></script>
<script type="text/javascript" src="lang-matlab.min.js"></script>
</body></html>