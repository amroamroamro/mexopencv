<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   
      <link rel="stylesheet" href="helpwin.css" />
      <title>cv.getOptimalNewCameraMatrix - mexopencv</title>
   <link rel="stylesheet" type="text/css" href="helpwin_custom.css" />
<meta name="generator" content="MATLAB 9.4.0.902940 (R2018a) Update 4" />
<meta name="description" content="cv.getOptimalNewCameraMatrix - Returns the new camera matrix based on the free scaling parameter" />
<link rel="stylesheet" type="text/css" href="matlab.min.css" />
</head>
   <body onload="PR.prettyPrint();">
      <!--Single-page help-->
      <table border="0" cellspacing="0" width="100%">
         <tbody><tr class="subheader">
            <td class="headertitle">cv.getOptimalNewCameraMatrix - MATLAB File Help</td>
            <td class="subheader-right"></td>
         </tr>
      </tbody></table>
      <div class="title">cv.getOptimalNewCameraMatrix</div>
      <div class="helpcontent"><p class=" h1line">Returns the new camera matrix based on the free scaling parameter</p>
<pre class=" prettyprint lang-matlab"><code>cameraMatrix = <a href="cv.getOptimalNewCameraMatrix.html">cv.getOptimalNewCameraMatrix</a>(cameraMatrix, distCoeffs, imageSize)
[cameraMatrix, validPixROI] = <a href="cv.getOptimalNewCameraMatrix.html">cv.getOptimalNewCameraMatrix</a>(...)
[...] = <a href="cv.getOptimalNewCameraMatrix.html">cv.getOptimalNewCameraMatrix</a>(..., 'OptionName', optionValue, ...)
</code></pre>
<h2>Input</h2>
<ul>
<li><strong>cameraMatrix</strong> Input 3x3 camera matrix, <code>A = [fx 0 cx; 0 fy cy; 0 0 1]</code>.</li>
<li><strong>distCoeffs</strong> Input vector of distortion coefficients
<code>[k1,k2,p1,p2,k3,k4,k5,k6,s1,s2,s3,s4,taux,tauy]</code> of 4, 5, 8, 12 or 14
elements. If the vector is empty, the zero distortion coefficients are
assumed.</li>
<li><strong>imageSize</strong> Original image size <code>[w,h]</code>.</li>
</ul>
<h2>Output</h2>
<ul>
<li><strong>cameraMatrix</strong> Output new camera matrix, 3x3.</li>
<li><strong>validPixROI</strong> Optional output rectangle <code>[x,y,w,h]</code> that outlines
all-good-pixels region in the undistorted image. See <code>roi1</code>, <code>roi2</code>
description in <a href="cv.stereoRectify.html">cv.stereoRectify</a>.</li>
</ul>
<h2>Options</h2>
<ul>
<li><strong>Alpha</strong> Free scaling parameter between 0 (when all the pixels in the
undistorted image are valid) and 1 (when all the source image pixels are
retained in the undistorted image). See <a href="cv.stereoRectify.html">cv.stereoRectify</a> for details.
default 0.8</li>
<li><strong>NewImageSize</strong> Image size after rectification <code>[w,h]</code>. By default, it is
set to <code>imageSize</code>.</li>
<li><strong>CenterPrincipalPoint</strong> Optional flag that indicates whether in the new
camera matrix the principal point should be at the image center or not. By
default, the principal point is chosen to best fit a subset of the source
image (determined by <code>Alpha</code>) to the corrected image. default false.</li>
</ul>
<p>The function computes and returns the optimal new camera matrix based on the
free scaling parameter. By varying this parameter, you may retrieve only
sensible pixels <code>Alpha=0</code>, keep all the original image pixels if there is
valuable information in the corners <code>Alpha=1</code>, or get something in between.
When <code>Alpha&gt;0</code>, the undistorted result is likely to have some black pixels
corresponding to &quot;virtual&quot; pixels outside of the captured distorted image.
The original camera matrix, distortion coefficients, the computed new camera
matrix, and <code>newImageSize</code> should be passed to <a href="cv.initUndistortRectifyMap.html">cv.initUndistortRectifyMap</a> to
produce the maps for <a href="cv.remap.html">cv.remap</a>.</p>
</div><!--after help --><!--seeAlso--><div class="footerlinktitle">See also</div><div class="footerlink"> <a href="cv.stereoRectify.html">cv.stereoRectify</a>, <a href="cv.initUndistortRectifyMap.html">cv.initUndistortRectifyMap</a>, <a href="cv.remap.html">cv.remap</a></div>
   
<script type="text/javascript" src="prettify.js"></script>
<script type="text/javascript" src="lang-matlab.min.js"></script>
</body></html>